
[1m[46m RUN [49m[22m [36mv4.0.16 [39m[90m/Users/hamishmcgee/Desktop/ZenaAntigravity/packages/frontend[39m

[90mstdout[2m | src/pages/CalendarPage/CalendarPage.comprehensive.test.tsx[2m > [22m[2mCalendarPage Integration Tests[2m > [22m[2mloads and aggregates events from all sources
[22m[39m[ActionApprovalQueue] selectedAction changed [90mundefined[39m

[90mstderr[2m | src/pages/CalendarPage/CalendarPage.comprehensive.test.tsx[2m > [22m[2mCalendarPage Integration Tests[2m > [22m[2mloads and aggregates events from all sources
[22m[39m‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

[90mstdout[2m | src/pages/CalendarPage/CalendarPage.comprehensive.test.tsx[2m > [22m[2mCalendarPage Integration Tests[2m > [22m[2mloads and aggregates events from all sources
[22m[39m[CalendarPage] Loaded timeline events: [
  {
    id: [32m'event-1'[39m,
    time: [32m'2024-01-01T14:00:00Z'[39m,
    summary: [32m'Meeting with Buyer'[39m
  }
]

[90mstdout[2m | src/pages/CalendarPage/CalendarPage.comprehensive.test.tsx[2m > [22m[2mCalendarPage Integration Tests[2m > [22m[2mhandles view mode switching
[22m[39m[ActionApprovalQueue] selectedAction changed [90mundefined[39m

[90mstdout[2m | src/pages/CalendarPage/CalendarPage.comprehensive.test.tsx[2m > [22m[2mCalendarPage Integration Tests[2m > [22m[2mhandles view mode switching
[22m[39m[CalendarPage] Loaded timeline events: [
  {
    id: [32m'event-1'[39m,
    time: [32m'2024-01-01T14:00:00Z'[39m,
    summary: [32m'Meeting with Buyer'[39m
  }
]

[90mstdout[2m | src/pages/CalendarPage/CalendarPage.comprehensive.test.tsx[2m > [22m[2mCalendarPage Integration Tests[2m > [22m[2mopens "Add Appointment" modal
[22m[39m[ActionApprovalQueue] selectedAction changed [90mundefined[39m

[90mstderr[2m | src/pages/CalendarPage/CalendarPage.comprehensive.test.tsx[2m > [22m[2mCalendarPage Integration Tests[2m > [22m[2mopens "Add Appointment" modal
[22m[39mWarning: An update to CalendarPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at CalendarPage (/Users/hamishmcgee/Desktop/ZenaAntigravity/packages/frontend/src/pages/CalendarPage/CalendarPage.tsx:31:57)
    at RenderedRoute (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:539:7)
    at Routes (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:1273:7)
    at Router (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:1101:7)
Warning: An update to CalendarPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at CalendarPage (/Users/hamishmcgee/Desktop/ZenaAntigravity/packages/frontend/src/pages/CalendarPage/CalendarPage.tsx:31:57)
    at RenderedRoute (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:539:7)
    at Routes (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:1273:7)
    at Router (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:1101:7)

[90mstdout[2m | src/pages/CalendarPage/CalendarPage.comprehensive.test.tsx[2m > [22m[2mCalendarPage Integration Tests[2m > [22m[2mopens "Add Appointment" modal
[22m[39m[CalendarPage] Loaded timeline events: [
  {
    id: [32m'event-1'[39m,
    time: [32m'2024-01-01T14:00:00Z'[39m,
    summary: [32m'Meeting with Buyer'[39m
  }
]

[90mstderr[2m | src/pages/CalendarPage/CalendarPage.comprehensive.test.tsx[2m > [22m[2mCalendarPage Integration Tests[2m > [22m[2mopens "Add Appointment" modal
[22m[39mWarning: An update to CalendarPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at CalendarPage (/Users/hamishmcgee/Desktop/ZenaAntigravity/packages/frontend/src/pages/CalendarPage/CalendarPage.tsx:31:57)
    at RenderedRoute (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:539:7)
    at Routes (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:1273:7)
    at Router (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:1101:7)
Warning: An update to CalendarPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at CalendarPage (/Users/hamishmcgee/Desktop/ZenaAntigravity/packages/frontend/src/pages/CalendarPage/CalendarPage.tsx:31:57)
    at RenderedRoute (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:539:7)
    at Routes (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:1273:7)
    at Router (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:1101:7)
Warning: An update to CalendarPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at CalendarPage (/Users/hamishmcgee/Desktop/ZenaAntigravity/packages/frontend/src/pages/CalendarPage/CalendarPage.tsx:31:57)
    at RenderedRoute (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:539:7)
    at Routes (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:1273:7)
    at Router (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:1101:7)

[90mstderr[2m | src/pages/CalendarPage/CalendarPage.comprehensive.test.tsx[2m > [22m[2mCalendarPage Integration Tests[2m > [22m[2mopens "Add Appointment" modal
[22m[39mWarning: An update to CalendarPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at CalendarPage (/Users/hamishmcgee/Desktop/ZenaAntigravity/packages/frontend/src/pages/CalendarPage/CalendarPage.tsx:31:57)
    at RenderedRoute (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:539:7)
    at Routes (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:1273:7)
    at Router (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/react-router/dist/umd/react-router.development.js:1101:7)

[90mstdout[2m | src/pages/CalendarPage/CalendarPage.comprehensive.test.tsx[2m > [22m[2mCalendarPage Integration Tests[2m > [22m[2mhandles AI suggestions from URL params
[22m[39m[ActionApprovalQueue] selectedAction changed [90mundefined[39m

[90mstdout[2m | src/pages/CalendarPage/CalendarPage.comprehensive.test.tsx[2m > [22m[2mCalendarPage Integration Tests[2m > [22m[2mhandles AI suggestions from URL params
[22m[39m[CalendarPage] Loaded timeline events: [
  {
    id: [32m'event-1'[39m,
    time: [32m'2024-01-01T14:00:00Z'[39m,
    summary: [32m'Meeting with Buyer'[39m
  }
]

 [31m√ó[39m src/pages/CalendarPage/CalendarPage.comprehensive.test.tsx[2m > [22mCalendarPage Integration Tests[2m > [22mloads and aggregates events from all sources[32m 140[2mms[22m[39m
[31m   ‚Üí Unable to find an element with the text: /Call Vendor/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"calendar-page"[31m
    [36m>[31m
      [36m<header[31m
        [33mclass[31m=[32m"calendar-page__header"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"calendar-header-top-row"[31m
        [36m>[31m
          [36m<button[31m
            [33mclass[31m=[32m"back-button"[31m
          [36m>[31m
            [0m‚Üê Back[0m
          [36m</button>[31m
          [36m<div[31m
            [33mclass[31m=[32m"calendar-header-main"[31m
          [36m>[31m
            [36m<h1[31m
              [33mclass[31m=[32m"calendar-page__title"[31m
            [36m>[31m
              [0mYour Schedule[0m
            [36m</h1>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"calendar-page__godmode-controls"[31m
          [36m>[31m
            [36m<div[31m
              [33mdata-testid[31m=[32m"godmode-toggle"[31m
            [36m>[31m
              [0mGodMode[0m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"calendar-header-bottom-row"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"calendar-nav-controls"[31m
          [36m>[31m
            [36m<button[31m
              [33mclass[31m=[32m"nav-btn"[31m
            [36m>[31m
              [36m<span[31m
                [33mdata-testid[31m=[32m"icon-chevron-left"[31m
              [36m/>[31m
            [36m</button>[31m
            [36m<span[31m
              [33mclass[31m=[32m"current-date-display"[31m
            [36m>[31m
              [0m1 Jan 2024[0m
            [36m</span>[31m
            [36m<button[31m
              [33mclass[31m=[32m"nav-btn"[31m
            [36m>[31m
              [36m<span[31m
                [33mdata-testid[31m=[32m"icon-chevron-right"[31m
              [36m/>[31m
            [36m</button>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"calendar-view-toggles"[31m
          [36m>[31m
            [36m<button[31m
              [33mclass[31m=[32m"view-toggle today-btn"[31m
            [36m>[31m
              [0mToday[0m
            [36m</button>[31m
            [36m<button[31m
              [33mclass[31m=[32m"view-toggle active"[31m
            [36m>[31m
              [0mDay[0m
            [36m</button>[31m
            [36m<button[31m
              [33mclass[31m=[32m"view-toggle "[31m
            [36m>[31m
              [0mWeek[0m
            [36m</button>[31m
            [36m<button[31m
              [33mclass[31m=[32m"view-toggle "[31m
            [36m>[31m
              [0mMonth[0m
            [36m</button>[31m
            [36m<div[31m
              [33mclass[31m=[32m"header-separator"[31m
              [33mstyle[31m=[32m"width: 1px; height: 20px; background: rgba(255, 255, 255, 0.1); margin: 0px 8px;"[31m
            [36m/>[31m
            [36m<button[31m
              [33mclass[31m=[32m"calendar-page__add-btn"[31m
            [36m>[31m
              [36m<span[31m
                [33mdata-testid[31m=[32m"icon-plus"[31m
              [36m/>[31m
              [36m<span>[31m
                [0mAdd Appointment[0m
              [36m</span>[31m
            [36m</button>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</header>[31m
      [36m<main[31m
        [33mclass[31m=[32m"calendar-page__content"[31m
      [36m>[31m
        [36m<section[31m
          [33mclass[31m=[32m"calendar-main-view"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"high-tech-card zena-suggestions"[31m
            [33mstyle[31m=[32m"margin-bottom: 20px; display: flex; align-items: center; justify-content: space-between;"[31m
          [36m>[31m
            [36m<div[31m
              [33mstyle[31m=[32m"display: flex; flex-direction: column; gap: 8px;"[31m
            [36m>[31m
              [36m<h2[31m
                [33mclass[31m=[32m"section-title"[31m
                [33mstyle[31m=[32m"margin: 0px;"[31m
              [36m>[31m
                [0mZena's Intelligence[0m
              [36m</h2>[31m
              [36m<div[31m
                [33mclass[31m=[32m"suggestion-item"[31m
                [33mstyle[31m=[32m"margin: 0px;"[31m
              [36m>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"suggestion-icon"[31m
                [36m>[31m
                  [0müí°[0m
                [36m</span>[31m
                [36m<p>[31m
                  [0mYou have [0m
                  [0m1[0m
                  [0m events scheduled for today.[0m
                [36m</p>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<button[31m
              [33mclass[31m=[32m"zena-action-btn"[31m
            [36m>[31m
              [0mOptimise My Day[0m
            [36m</button>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"calendar-daily-briefing"[31m
            [33mstyle[31m=[32m"margin-bottom: 20px; background: rgba(124, 58, 237, 0.1); border: 1px solid rgba(124, 58, 237, 0.3); border-radius: 16px; padding: 16px 20px; display: flex; gap: 16px; align-items: center; box-shadow: 0 8px 32px rgba(124, 58, 237, 0.1); border-left: 4px solid #7c3aed;"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"briefing-icon"[31m
              [33mstyle[31m=[32m"width: 40px; height: 40px; background: rgba(124, 58, 237, 0.2); border-radius: 12px; display: flex; align-items: center; color: rgb(167, 139, 250); flex-shrink: 0;"[31m
            [36m>[31m
              [36m<svg[31m
                [33mclass[31m=[32m"lucide lucide-brain "[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mstyle[31m=[32m"margin: auto;"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M17.599 6.5a3 3 0 0 0 .399-1.375"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M6.003 5.125A3 3 0 0 0 6.401 6.5"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M3.477 10.896a4 4 0 0 1 .585-.396"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M19.938 10.5a4 4 0 0 1 .585.396"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M6 18a4 4 0 0 1-1.967-.516"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M19.967 17.484A4 4 0 0 1 18 18"[31m
                [36m/>[31m
              [36m</svg>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"briefing-content"[31m
              [33mstyle[31m=[32m"flex: 1;"[31m
            [36m>[31m
              [36m<h4[31m
                [33mstyle[31m=[32m"margin: 0px; font-size: 13px; color: rgb(167, 139, 250); text-transform: uppercase; letter-spacing: 1px; font-weight: 700;"[31m
              [36m>[31m
                [0mDaily Strategy Briefing[0m
              [36m</h4>[31m
              [36m<p[31m
                [33mstyle[31m=[32m"margin: 4px 0px 0px 0px; font-size: 15px; color: rgba(255, 255, 255, 0.9); line-height: 1.5;"[31m
              [36m>[31m
                [0mTest Briefing[0m
              [36m</p>[31m
            [36m</div>[31m
            [36m<button[31m
              [33mclass[31m=[32m"briefing-close"[31m
              [33mstyle[31m=[32m"background: transparent; color: rgba(255, 255, 255, 0.4); cursor: pointer; padding: 4px;"[31m
            [36m>[31m
              [36m<span[31m
                [33mdata-testid[31m=[32m"icon-x"[31m
              [36m/>[31m
            [36m</button>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"calendar-agenda-container"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"agenda-header-info"[31m
            [36m>[31m
              [36m<h2[31m
                [33mclass[31m=[32m"section-title"[31m
              [36m>[31m
                [0mToday's Agenda[0m
              [36m</h2>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"calendar-day-group is-today "[31m
              [33mid[31m=[32m"2024-01-01"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"calendar-date-header"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"date-main"[31m
                [36m>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"date-number"[31m
                  [36m>[31m
                    [0m1[0m
                  [36m</span>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"date-details"[31m
                  [36m>[31m
                    [36m<span[31m
                      [33mclass[31m=[32m"day-name"[31m
                    [36m>[31m
                      [0mMonday[0m
                    [36m</span>[31m
                    [36m<span[31m
                      [33mclass[31m=[32m"month-year"[31m
                    [36m>[31m
                      [0mJanuary 2024[0m
                    [36m</span>[31m
                  [36m</div>[31m
                [36m</div>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"today-badge"[31m
                [36m>[31m
                  [0mToday[0m
                [36m</span>[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"appointment-list"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"timeline-trail"[31m
                [36m/>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"calendar-now-line"[31m
                [36m/>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"appt-card appt-card--medium appt-card--viewing "[31m
                [36m>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"appt-time-column"[31m
                  [36m>[31m
                    [36m<div[31m
                      [33mclass[31m=[32m"appt-time"[31m
                    [36m>[31m
                      [0m11:00 PM[0m
                      [0m - 12:00 AM[0m
                    [36m</div>[31m
                    [36m<div[31m
                      [33mclass[31m=[32m"appt-dot"[31m
                    [36m/>[31m
                  [36m</div>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"appt-main-info"[31m
                  [36m>[31m
                    [36m<div[31m
                      [33mclass[31m=[32m"appt-type-tag"[31m
                    [36m>[31m
                      [0mviewing[0m
                    [36m</div>[31m
                    [36m<div[31m
                      [33mclass[31m=[32m"appt-title"[31m
                    [36m>[31m
                      [0mOpen Home: 123 Test St[0m
                    [36m</div>[31m
                    [36m<div[31m
                      [33mclass[31m=[32m"appt-location"[31m
                    [36m>[31m
                      [36m<span[31m
                        [33mdata-testid[31m=[32m"icon-map-pin"[31m
                      [36m/>[31m
                      [0m123 Test St[0m
                    [36m</div>[31m
                    [36m<div[31m
                      [33mclass[31m=[32m"appt-prop-type"[31m
                    [36m>[31m
                      [0mresidential[0m
                    [36m</div>[31m
                  [36m</div>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"appt-actions"[31m
                  [36m>[31m
                    [36m<button[31m
                      [33mclass[31m=[32m"appt-btn"[31m
                    [36m>[31m
                      [0mView Property[0m
                    [36m</button>[31m
                  [36m</div>[31m
                [36m</div>[31m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
        [36m</section>[31m
        [36m<aside[31m
          [33mclass[31m=[32m"calendar-sidebar"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"sidebar-section"[31m
          [36m>[31m
            [36m<h2[31m
              [33mclass[31m=[32m"section-title"[31m
            [36m>[31m
              [36m<span[31m
                [33mclass[31m=[32m"focus-title-highlight"[31m
              [36m>[31m
                [0mFocus:[0m
              [36m</span>[31m
              [0m Next Up[0m
            [36m</h2>[31m
            [36m<div[31m
              [33mclass[31m=[32m"high-tech-card next-event-spotlight"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"spotlight-header"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"spotlight-time-info"[31m
                [36m>[31m
                  [36m<span[31m
                    [33mdata-testid[31m=[32m"icon-clock"[31m
                  [36m/>[31m
                  [36m<span>[31m
                    [0mStarts in [0m
                    [0m60[0m
                    [0m mins[0m
                  [36m</span>[31m
                [36m</div>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"spotlight-time-range"[31m
                [36m>[31m
                  [0m11:00 pm[0m
                  [0m - 12:00 am[0m
                [36m</div>[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"spotlight-title"[31m
              [36m>[31m
                [0mOpen Home: 123 Test St[0m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"spotlight-footer"[31m
              [36m>[31m
                [36m<span[31m
                  [33mdata-testid[31m=[32m"icon-map-pin"[31m
                [36m/>[31m
                [36m<span>[31m
                  [0m123 Test St[0m
                [36m</span>[31m
              [36m</div>[31m
              [36m<button[31m
                [33mclass[31m=[32m"spotlight-action"[31m
              [36m>[31m
                [0mDetails [0m
                [36m<span[31m
                  [33mdata-testid[31m=[32m"icon-arrow-right"[31m
                [36m/>[31m
              [36m</button>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"sidebar-section"[31m
          [36m>[31m
            [36m<h2[31m
              [33mclass[31m=[32m"section-title"[31m
            [36m>[31m
              [0mNavigation[0m
            [36m</h2>[31m
            [36m<div[31m
              [33mdata-testid[31m=[32m"mini-picker"[31m
            [36m>[31m
              [36m<button>[31m
                [0mSelect Jan 1[0m
              [36m</button>[31m
            [36m</div>[31m
          [36m</div>[31m
        [36m</aside>[31m
      [36m</main>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
 [32m‚úì[39m src/pages/CalendarPage/CalendarPage.comprehensive.test.tsx[2m > [22mCalendarPage Integration Tests[2m > [22mhandles view mode switching[32m 54[2mms[22m[39m
 [32m‚úì[39m src/pages/CalendarPage/CalendarPage.comprehensive.test.tsx[2m > [22mCalendarPage Integration Tests[2m > [22mopens "Add Appointment" modal[32m 34[2mms[22m[39m
 [32m‚úì[39m src/pages/CalendarPage/CalendarPage.comprehensive.test.tsx[2m > [22mCalendarPage Integration Tests[2m > [22mhandles AI suggestions from URL params[32m 41[2mms[22m[39m

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Failed Tests 1 [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[41m[1m FAIL [22m[49m src/pages/CalendarPage/CalendarPage.comprehensive.test.tsx[2m > [22mCalendarPage Integration Tests[2m > [22mloads and aggregates events from all sources
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the text: /Call Vendor/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"calendar-page"[39m
    [36m>[39m
      [36m<header[39m
        [33mclass[39m=[32m"calendar-page__header"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"calendar-header-top-row"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"back-button"[39m
          [36m>[39m
            [0m‚Üê Back[0m
          [36m</button>[39m
          [36m<div[39m
            [33mclass[39m=[32m"calendar-header-main"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"calendar-page__title"[39m
            [36m>[39m
              [0mYour Schedule[0m
            [36m</h1>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"calendar-page__godmode-controls"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"godmode-toggle"[39m
            [36m>[39m
              [0mGodMode[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"calendar-header-bottom-row"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"calendar-nav-controls"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"nav-btn"[39m
            [36m>[39m
              [36m<span[39m
                [33mdata-testid[39m=[32m"icon-chevron-left"[39m
              [36m/>[39m
            [36m</button>[39m
            [36m<span[39m
              [33mclass[39m=[32m"current-date-display"[39m
            [36m>[39m
              [0m1 Jan 2024[0m
            [36m</span>[39m
            [36m<button[39m
              [33mclass[39m=[32m"nav-btn"[39m
            [36m>[39m
              [36m<span[39m
                [33mdata-testid[39m=[32m"icon-chevron-right"[39m
              [36m/>[39m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"calendar-view-toggles"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"view-toggle today-btn"[39m
            [36m>[39m
              [0mToday[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"view-toggle active"[39m
            [36m>[39m
              [0mDay[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"view-toggle "[39m
            [36m>[39m
              [0mWeek[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"view-toggle "[39m
            [36m>[39m
              [0mMonth[0m
            [36m</button>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header-separator"[39m
              [33mstyle[39m=[32m"width: 1px; height: 20px; background: rgba(255, 255, 255, 0.1); margin: 0px 8px;"[39m
            [36m/>[39m
            [36m<button[39m
              [33mclass[39m=[32m"calendar-page__add-btn"[39m
            [36m>[39m
              [36m<span[39m
                [33mdata-testid[39m=[32m"icon-plus"[39m
              [36m/>[39m
              [36m<span>[39m
                [0mAdd Appointment[0m
              [36m</span>[39m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</header>[39m
      [36m<main[39m
        [33mclass[39m=[32m"calendar-page__content"[39m
      [36m>[39m
        [36m<section[39m
          [33mclass[39m=[32m"calendar-main-view"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"high-tech-card zena-suggestions"[39m
            [33mstyle[39m=[32m"margin-bottom: 20px; display: flex; align-items: center; justify-content: space-between;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; flex-direction: column; gap: 8px;"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"section-title"[39m
                [33mstyle[39m=[32m"margin: 0px;"[39m
              [36m>[39m
                [0mZena's Intelligence[0m
              [36m</h2>[39m
              [36m<div[39m
                [33mclass[39m=[32m"suggestion-item"[39m
                [33mstyle[39m=[32m"margin: 0px;"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"suggestion-icon"[39m
                [36m>[39m
                  [0müí°[0m
                [36m</span>[39m
                [36m<p>[39m
                  [0mYou have [0m
                  [0m1[0m
                  [0m events scheduled for today.[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"zena-action-btn"[39m
            [36m>[39m
              [0mOptimise My Day[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"calendar-daily-briefing"[39m
            [33mstyle[39m=[32m"margin-bottom: 20px; background: rgba(124, 58, 237, 0.1); border: 1px solid rgba(124, 58, 237, 0.3); border-radius: 16px; padding: 16px 20px; display: flex; gap: 16px; align-items: center; box-shadow: 0 8px 32px rgba(124, 58, 237, 0.1); border-left: 4px solid #7c3aed;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"briefing-icon"[39m
              [33mstyle[39m=[32m"width: 40px; height: 40px; background: rgba(124, 58, 237, 0.2); border-radius: 12px; display: flex; align-items: center; color: rgb(167, 139, 250); flex-shrink: 0;"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-brain "[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mstyle[39m=[32m"margin: auto;"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M17.599 6.5a3 3 0 0 0 .399-1.375"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M6.003 5.125A3 3 0 0 0 6.401 6.5"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M3.477 10.896a4 4 0 0 1 .585-.396"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M19.938 10.5a4 4 0 0 1 .585.396"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M6 18a4 4 0 0 1-1.967-.516"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M19.967 17.484A4 4 0 0 1 18 18"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"briefing-content"[39m
              [33mstyle[39m=[32m"flex: 1;"[39m
            [36m>[39m
              [36m<h4[39m
                [33mstyle[39m=[32m"margin: 0px; font-size: 13px; color: rgb(167, 139, 250); text-transform: uppercase; letter-spacing: 1px; font-weight: 700;"[39m
              [36m>[39m
                [0mDaily Strategy Briefing[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mstyle[39m=[32m"margin: 4px 0px 0px 0px; font-size: 15px; color: rgba(255, 255, 255, 0.9); line-height: 1.5;"[39m
              [36m>[39m
                [0mTest Briefing[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"briefing-close"[39m
              [33mstyle[39m=[32m"background: transparent; color: rgba(255, 255, 255, 0.4); cursor: pointer; padding: 4px;"[39m
            [36m>[39m
              [36m<span[39m
                [33mdata-testid[39m=[32m"icon-x"[39m
              [36m/>[39m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"calendar-agenda-container"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"agenda-header-info"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"section-title"[39m
              [36m>[39m
                [0mToday's Agenda[0m
              [36m</h2>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"calendar-day-group is-today "[39m
              [33mid[39m=[32m"2024-01-01"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"calendar-date-header"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"date-main"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"date-number"[39m
                  [36m>[39m
                    [0m1[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"date-details"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"day-name"[39m
                    [36m>[39m
                      [0mMonday[0m
                    [36m</span>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"month-year"[39m
                    [36m>[39m
                      [0mJanuary 2024[0m
                    [36m</span>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"today-badge"[39m
                [36m>[39m
                  [0mToday[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"appointment-list"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"timeline-trail"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"calendar-now-line"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"appt-card appt-card--medium appt-card--viewing "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"appt-time-column"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"appt-time"[39m
                    [36m>[39m
                      [0m11:00 PM[0m
                      [0m - 12:00 AM[0m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"appt-dot"[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"appt-main-info"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"appt-type-tag"[39m
                    [36m>[39m
                      [0mviewing[0m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"appt-title"[39m
                    [36m>[39m
                      [0mOpen Home: 123 Test St[0m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"appt-location"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mdata-testid[39m=[32m"icon-map-pin"[39m
                      [36m/>[39m
                      [0m123 Test St[0m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"appt-prop-type"[39m
                    [36m>[39m
                      [0mresidential[0m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"appt-actions"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"appt-btn"[39m
                    [36m>[39m
                      [0mView Property[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</section>[39m
        [36m<aside[39m
          [33mclass[39m=[32m"calendar-sidebar"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"sidebar-section"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"section-title"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"focus-title-highlight"[39m
              [36m>[39m
                [0mFocus:[0m
              [36m</span>[39m
              [0m Next Up[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"high-tech-card next-event-spotlight"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"spotlight-header"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"spotlight-time-info"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mdata-testid[39m=[32m"icon-clock"[39m
                  [36m/>[39m
                  [36m<span>[39m
                    [0mStarts in [0m
                    [0m60[0m
                    [0m mins[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"spotlight-time-range"[39m
                [36m>[39m
                  [0m11:00 pm[0m
                  [0m - 12:00 am[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"spotlight-title"[39m
              [36m>[39m
                [0mOpen Home: 123 Test St[0m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"spotlight-footer"[39m
              [36m>[39m
                [36m<span[39m
                  [33mdata-testid[39m=[32m"icon-map-pin"[39m
                [36m/>[39m
                [36m<span>[39m
                  [0m123 Test St[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<button[39m
                [33mclass[39m=[32m"spotlight-action"[39m
              [36m>[39m
                [0mDetails [0m
                [36m<span[39m
                  [33mdata-testid[39m=[32m"icon-arrow-right"[39m
                [36m/>[39m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"sidebar-section"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"section-title"[39m
            [36m>[39m
              [0mNavigation[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"mini-picker"[39m
            [36m>[39m
              [36m<button>[39m
                [0mSelect Jan 1[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</aside>[39m
      [36m</main>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2m‚ùØ[22m Object.getElementError ../../node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m‚ùØ[22m ../../node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m‚ùØ[22m ../../node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m‚ùØ[22m ../../node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m‚ùØ[22m src/pages/CalendarPage/CalendarPage.comprehensive.test.tsx:[2m142:23[22m[39m
    [90m140| [39m
    [90m141| [39m        [90m// 2. Task (Call Vendor)[39m
    [90m142| [39m        [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([36m/Call Vendor/i[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                      [31m^[39m
    [90m143| [39m
    [90m144| [39m        [90m// 3. Timeline Event (Meeting)[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/1]‚éØ[22m[39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m3 passed[39m[22m[90m (4)[39m
[2m   Start at [22m 17:04:34
[2m   Duration [22m 2.93s[2m (transform 607ms, setup 299ms, import 1.03s, tests 273ms, environment 947ms)[22m

