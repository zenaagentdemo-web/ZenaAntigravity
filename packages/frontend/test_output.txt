
[1m[46m RUN [49m[22m [36mv4.0.15 [39m[90m/Users/hamishmcgee/Desktop/ZenaAntigravity/packages/frontend[39m

 [31mâ¯[39m src/utils/transcription/transcription-merger.property.test.ts [2m([22m[2m8 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[32m 38[2mms[22m[39m
     [32mâœ“[39m should correctly join final segments with spaces[32m 1[2mms[22m[39m
     [32mâœ“[39m should handle interim updates by replacing the previous interim[32m 0[2mms[22m[39m
     [32mâœ“[39m should reset correctly[32m 0[2mms[22m[39m
[31m       [31mÃ—[31m should always grow or refine and maintain word order[39m[32m 23[2mms[22m[39m
       [32mâœ“[39m idempotency: repeating an interim update should not change the state[32m 3[2mms[22m[39m
[31m       [31mÃ—[31m segment isolation: final segments are preserved regardless of subsequent interims[39m[32m 8[2mms[22m[39m
       [32mâœ“[39m should NOT mash segments together (the "bothspecificfee dback" case)[32m 0[2mms[22m[39m
       [32mâœ“[39m should handle muddled words that get corrected[32m 0[2mms[22m[39m

[31mâ¯â¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Tests 2 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m src/utils/transcription/transcription-merger.property.test.ts[2m > [22mTranscriptionMerger[2m > [22mProperties[2m > [22mshould always grow or refine and maintain word order
[31m[1mError[22m: Property failed after 1 tests
{ seed: 930186755, path: "0:5:3:5:4:4:4:4:4:4:6:7:6:6:6:6:9:4:9:8:8:8:8:8:8:10", endOnFailure: true }
Counterexample: [[{"text":"!!","isFinal":false},{"text":"!","isFinal":true}]]
Shrunk 25 time(s)
Got AssertionError: expected 1 to be greater than or equal to 2
    at /Users/hamishmcgee/Desktop/ZenaAntigravity/packages/frontend/src/utils/transcription/transcription-merger.property.test.ts:50:63
    at Property.predicate (file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/fast-check/lib/esm/check/property/Property.js:14:54)
    at Property.run (file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/fast-check/lib/esm/check/property/Property.generic.js:46:33)
    at runIt (file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/fast-check/lib/esm/check/runner/Runner.js:18:30)
    at check (file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/fast-check/lib/esm/check/runner/Runner.js:62:11)
    at Proxy.assert (file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/fast-check/lib/esm/check/runner/Runner.js:65:17)
    at /Users/hamishmcgee/Desktop/ZenaAntigravity/packages/frontend/src/utils/transcription/transcription-merger.property.test.ts:35:16
    at file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/@vitest/runner/dist/index.js:1240:20

Hint: Enable verbose mode in order to have the list of all failing values encountered during the run[39m
[36m [2mâ¯[22m src/utils/transcription/transcription-merger.property.test.ts:[2m50:63[22m[39m
    [90m 48| [39m                            // Logic check: if we only send finals, itâ€¦
    [90m 49| [39m                            [35mif[39m (update[33m.[39misFinal [33m&&[39m update[33m.[39mtext[33m.[39m[34mtrim[39m()) {
    [90m 50| [39m                                expect(currentContent.length).toBeGreaâ€¦
    [90m   | [39m                                                              [31m^[39m
    [90m 51| [39m                            }
    [90m 52| [39m                            lastContent [33m=[39m currentContent[33m;[39m
[90m [2mâ¯[22m Property.predicate ../../node_modules/fast-check/lib/esm/check/property/Property.js:[2m14:54[22m[39m
[90m [2mâ¯[22m Property.run ../../node_modules/fast-check/lib/esm/check/property/Property.generic.js:[2m46:33[22m[39m
[90m [2mâ¯[22m runIt ../../node_modules/fast-check/lib/esm/check/runner/Runner.js:[2m18:30[22m[39m
[90m [2mâ¯[22m check ../../node_modules/fast-check/lib/esm/check/runner/Runner.js:[2m62:11[22m[39m
[90m [2mâ¯[22m Proxy.assert ../../node_modules/fast-check/lib/esm/check/runner/Runner.js:[2m65:17[22m[39m
[90m [2mâ¯[22m src/utils/transcription/transcription-merger.property.test.ts:[2m35:16[22m[39m
[90m [2mâ¯[22m buildError ../../node_modules/fast-check/lib/esm/check/runner/utils/RunDetailsFormatter.js:[2m126:15[22m[39m
[90m [2mâ¯[22m throwIfFailed ../../node_modules/fast-check/lib/esm/check/runner/utils/RunDetailsFormatter.js:[2m138:11[22m[39m
[90m [2mâ¯[22m reportRunDetails ../../node_modules/fast-check/lib/esm/check/runner/utils/RunDetailsFormatter.js:[2m151:16[22m[39m
[90m [2mâ¯[22m Proxy.assert ../../node_modules/fast-check/lib/esm/check/runner/Runner.js:[2m69:9[22m[39m
[90m [2mâ¯[22m src/utils/transcription/transcription-merger.property.test.ts:[2m35:16[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯[22m[39m

[41m[1m FAIL [22m[49m src/utils/transcription/transcription-merger.property.test.ts[2m > [22mTranscriptionMerger[2m > [22mProperties[2m > [22msegment isolation: final segments are preserved regardless of subsequent interims
[31m[1mError[22m: Property failed after 8 tests
{ seed: 1115778024, path: "7:1:3:2:2:4:3:3:3:3:3:5:4:4:5:4:4:4:4:4:5", endOnFailure: true }
Counterexample: [["! ","!"],""]
Shrunk 20 time(s)
Got AssertionError: expected false to be true // Object.is equality
    at /Users/hamishmcgee/Desktop/ZenaAntigravity/packages/frontend/src/utils/transcription/transcription-merger.property.test.ts:83:66
    at Property.predicate (file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/fast-check/lib/esm/check/property/Property.js:14:54)
    at Property.run (file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/fast-check/lib/esm/check/property/Property.generic.js:46:33)
    at runIt (file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/fast-check/lib/esm/check/runner/Runner.js:18:30)
    at check (file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/fast-check/lib/esm/check/runner/Runner.js:62:11)
    at Proxy.assert (file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/fast-check/lib/esm/check/runner/Runner.js:65:17)
    at /Users/hamishmcgee/Desktop/ZenaAntigravity/packages/frontend/src/utils/transcription/transcription-merger.property.test.ts:73:16
    at file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/@vitest/runner/dist/index.js:1240:20

Hint: Enable verbose mode in order to have the list of all failing values encountered during the run[39m
[36m [2mâ¯[22m src/utils/transcription/transcription-merger.property.test.ts:[2m83:66[22m[39m
    [90m 81| [39m
    [90m 82| [39m                    [35mif[39m (expectedStart) {
    [90m 83| [39m                        expect(result.startsWith(expectedStart)).toBe(â€¦
    [90m   | [39m                                                                 [31m^[39m
    [90m 84| [39m                    }
    [90m 85| [39m                })
[90m [2mâ¯[22m Property.predicate ../../node_modules/fast-check/lib/esm/check/property/Property.js:[2m14:54[22m[39m
[90m [2mâ¯[22m Property.run ../../node_modules/fast-check/lib/esm/check/property/Property.generic.js:[2m46:33[22m[39m
[90m [2mâ¯[22m runIt ../../node_modules/fast-check/lib/esm/check/runner/Runner.js:[2m18:30[22m[39m
[90m [2mâ¯[22m check ../../node_modules/fast-check/lib/esm/check/runner/Runner.js:[2m62:11[22m[39m
[90m [2mâ¯[22m Proxy.assert ../../node_modules/fast-check/lib/esm/check/runner/Runner.js:[2m65:17[22m[39m
[90m [2mâ¯[22m src/utils/transcription/transcription-merger.property.test.ts:[2m73:16[22m[39m
[90m [2mâ¯[22m buildError ../../node_modules/fast-check/lib/esm/check/runner/utils/RunDetailsFormatter.js:[2m126:15[22m[39m
[90m [2mâ¯[22m throwIfFailed ../../node_modules/fast-check/lib/esm/check/runner/utils/RunDetailsFormatter.js:[2m138:11[22m[39m
[90m [2mâ¯[22m reportRunDetails ../../node_modules/fast-check/lib/esm/check/runner/utils/RunDetailsFormatter.js:[2m151:16[22m[39m
[90m [2mâ¯[22m Proxy.assert ../../node_modules/fast-check/lib/esm/check/runner/Runner.js:[2m69:9[22m[39m
[90m [2mâ¯[22m src/utils/transcription/transcription-merger.property.test.ts:[2m73:16[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/2]â¯[22m[39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m6 passed[39m[22m[90m (8)[39m
[2m   Start at [22m 08:47:23
[2m   Duration [22m 921ms[2m (transform 43ms, setup 174ms, import 94ms, tests 38ms, environment 420ms)[22m

