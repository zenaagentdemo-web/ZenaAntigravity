
[1m[46m RUN [49m[22m [36mv4.0.16 [39m[90m/Users/hamishmcgee/Desktop/ZenaAntigravity/packages/backend[39m

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39mâœ… [database.ts] Prisma initialized: [33mtrue[39m

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: market_scraper.search

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: inbox.list_threads

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: inbox.get_thread

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: inbox.get_messages

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: inbox.archive_thread

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: inbox.unarchive_thread

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: inbox.snooze_thread

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39mğŸ” [CalendarOptimizer] Service initialized

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ZenaAPILibrary] Initializing capability library from tool registry...
[ZenaAPILibrary] âœ… Initialized with 7 tools across 2 domains

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[AIProcessingService] Initialized with Gemini: gemini-3-flash-preview

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: inbox.classify_thread

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: inbox.move_to_awaiting

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: inbox.link_to_property

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: inbox.link_to_contact

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: inbox.draft_reply

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: inbox.send_reply

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: inbox.regenerate_draft

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: inbox.search

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: deal.list

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: deal.get

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: deal.create

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: deal.update

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: deal.delete

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: deal.update_stage

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: deal.update_conditions

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: deal.assign_contact

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: deal.remove_contact

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: deal.analyze

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: deal.archive

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: deal.unarchive

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: deal.add_note

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: deal.get_brief

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: deal.bulk_archive

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: deal.bulk_delete

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: deal.search

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: deal.generate_report
[ToolRegistry] âœ… Registered tool: deal.update_risk

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: contact.list

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: contact.get

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: contact.create

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: contact.update

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: contact.delete

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: contact.archive

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: contact.add_relationship_note

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: contact.get_brief

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: contact.run_discovery

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: contact.recategorize

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: contact.bulk_delete

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: contact.bulk_update

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: contact.search

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: contact.link_to_property

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: task.list

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: task.get

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: task.create

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: task.update

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: task.delete

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: task.complete

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: task.reschedule

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: task.get_overdue

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: task.process_voice_note

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: task.search

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: property.list

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: property.get

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: property.create

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: property.update

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: property.delete

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: property.add_milestone

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: property.update_milestone

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: property.delete_milestone

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: property.refresh_intelligence

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: property.generate_comparables

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: property.link_vendor

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: property.generate_report

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: property.bulk_delete

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: property.bulk_archive

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: property.get_smart_matches

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: property.search

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: calendar.list

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: calendar.get

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: calendar.create

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: calendar.update

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: calendar.delete

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ActionRegistry] Registered strategy for generate_weekly_report

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ActionRegistry] Registered strategy for buyer_match_intro

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ActionRegistry] Registered strategy for schedule_viewing

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: calendar.suggest_slots

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: calendar.optimize_day

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: calendar.search

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: portfolio.get_brief
[ToolRegistry] âœ… Registered tool: portfolio.get_global_brief

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: search_memory

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: export.contacts

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: export.properties

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: export.deals

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: godmode.get_pending

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: godmode.approve

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: godmode.dismiss

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: voice_note.list

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: voice_note.get

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] âœ… Registered tool: voice_note.upload

[90mstderr[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] Tool deal.generate_report already registered, overwriting
[ToolRegistry] Tool deal.update already registered, overwriting
[ToolRegistry] Tool calendar.create already registered, overwriting
[ToolRegistry] Tool calendar.update already registered, overwriting
[ToolRegistry] Tool calendar.delete already registered, overwriting
[ToolRegistry] Tool task.create already registered, overwriting
[ToolRegistry] Tool task.update already registered, overwriting
[ToolRegistry] Tool contact.create already registered, overwriting
[ToolRegistry] Tool contact.update already registered, overwriting
[ToolRegistry] Tool property.create already registered, overwriting
[ToolRegistry] Tool property.update already registered, overwriting

[90mstdout[2m | src/tests/unit/tool-registry.test.ts
[22m[39m[ToolRegistry] ğŸ“¦ Registered bundle: inbox (11 tools)
[ToolRegistry] ğŸ“¦ Registered bundle: deals (15 tools)
[ToolRegistry] ğŸ“¦ Registered bundle: contacts (13 tools)
[ToolRegistry] ğŸ“¦ Registered bundle: properties (13 tools)
[ToolRegistry] ğŸ“¦ Registered bundle: tasks (9 tools)
[ToolRegistry] ğŸ“¦ Registered bundle: calendar (7 tools)
[ToolRegistry] ğŸ“¦ Registered bundle: core (2 tools)
[ToolRegistry] ğŸ“¦ Registered bundle: export (3 tools)
[ToolRegistry] ğŸ“¦ Registered bundle: godmode (3 tools)
[ToolRegistry] ğŸ“¦ Registered bundle: voice_notes (3 tools)
[ToolBundles] Registered 10 tool bundles
[ToolRegistry] âœ… Registered tool: core.get_dashboard
[ToolRegistry] âœ… Registered tool: core.search
[ToolRegistry] âœ… Registered tool: deal.generate_report
[ToolRegistry] âœ… Registered tool: deal.update
[ToolRegistry] âœ… Registered tool: calendar.list_events
[ToolRegistry] âœ… Registered tool: calendar.get_event
[ToolRegistry] âœ… Registered tool: calendar.create
[ToolRegistry] âœ… Registered tool: calendar.update
[ToolRegistry] âœ… Registered tool: calendar.delete
[ToolRegistry] âœ… Registered tool: calendar.reschedule
[ToolRegistry] âœ… Registered tool: task.list_tasks
[ToolRegistry] âœ… Registered tool: task.create
[ToolRegistry] âœ… Registered tool: task.update
[ToolRegistry] âœ… Registered tool: task.link_to_deal
[ToolRegistry] âœ… Registered tool: contact.list_contacts
[ToolRegistry] âœ… Registered tool: contact.create
[ToolRegistry] âœ… Registered tool: contact.update
[ToolRegistry] âœ… Registered tool: property.list_properties
[ToolRegistry] âœ… Registered tool: property.create
[ToolRegistry] âœ… Registered tool: property.update
[ToolRegistry] âœ… Registered tool: marketing.generate_campaign
[ToolRegistry] âœ… Registered tool: vendor_report.generate_weekly
[Tools] Agent tool system initialized: 105 tools across 15 domains
[ZenaAPILibrary] Initializing capability library from tool registry...
[ZenaAPILibrary] âœ… Initialized with 105 tools across 15 domains
[Tools] API Library ready: 315 estimated tokens for capability summary
[ToolAliasGenerator] Generating aliases for 105 tools...
[ToolAliasGenerator] âœ… Generated 2571 aliases for 105 tools
[Tools] Alias Generator ready: 2571 aliases (~24.5 per tool)

[90mstdout[2m | src/tests/unit/tool-registry.test.ts[2m > [22m[2mZena Tool System Invariants[2m > [22m[2mRegistry Heartbeat[2m > [22m[2mshould have at least 100 tools registered (Global Parity)
[22m[39m[Test] Registry Heartbeat: 105 tools found.

 [31mâ¯[39m src/tests/unit/tool-registry.test.ts [2m([22m[2m7 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[32m 22[2mms[22m[39m
       [32mâœ“[39m should have at least 100 tools registered (Global Parity)[32m 1[2mms[22m[39m
       [32mâœ“[39m should have tools across at least 6 major domains[32m 1[2mms[22m[39m
       [32mâœ“[39m should resolve basic aliases ("add contact" -> "contact.create")[32m 0[2mms[22m[39m
       [32mâœ“[39m should resolve camelCase aliases ("createProperty" -> "property.create")[32m 0[2mms[22m[39m
[31m       [31mÃ—[31m should resolve Triple-Synonym coverage (Property-Based)[39m[32m 4[2mms[22m[39m
[31m       [31mÃ—[31m should resolve Contact synonyms ("person", "client", "user")[39m[32m 0[2mms[22m[39m
       [32mâœ“[39m property.create should have the correct input schema[32m 0[2mms[22m[39m

[31mâ¯â¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Tests 2 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m src/tests/unit/tool-registry.test.ts[2m > [22mZena Tool System Invariants[2m > [22mAlias Coverage & Synonym Resolution[2m > [22mshould resolve Triple-Synonym coverage (Property-Based)
[31m[1mError[22m: Property failed after 1 tests
{ seed: -141391054, path: "0:0", endOnFailure: true }
Counterexample: ["create","home"]
Shrunk 1 time(s)
Got AssertionError: expected 'createHome' to be 'property.create' // Object.is equality
    at /Users/hamishmcgee/Desktop/ZenaAntigravity/packages/backend/src/tests/unit/tool-registry.test.ts:58:43
    at Property.predicate (file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/fast-check/lib/esm/check/property/Property.js:14:54)
    at Property.run (file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/fast-check/lib/esm/check/property/Property.generic.js:46:33)
    at runIt (file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/fast-check/lib/esm/check/runner/Runner.js:18:30)
    at check (file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/fast-check/lib/esm/check/runner/Runner.js:62:11)
    at Module.assert (file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/fast-check/lib/esm/check/runner/Runner.js:65:17)
    at /Users/hamishmcgee/Desktop/ZenaAntigravity/packages/backend/src/tests/unit/tool-registry.test.ts:44:22
    at file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/@vitest/runner/dist/index.js:1243:20

Hint: Enable verbose mode in order to have the list of all failing values encountered during the run[39m
[36m [2mâ¯[22m src/tests/unit/tool-registry.test.ts:[2m58:43[22m[39m
    [90m 56| [39m                        // If it's a "create" synonym and "property" sâ€¦
    [90m 57| [39m                        [34mexpect[39m(resolved1)[33m.[39m[34mtoBe[39m([32m'property.create'[39m)[33m;[39m
    [90m 58| [39m                        [34mexpect[39m(resolved2)[33m.[39m[34mtoBe[39m([32m'property.create'[39m)[33m;[39m
    [90m   | [39m                                          [31m^[39m
    [90m 59| [39m                    }
    [90m 60| [39m                )
[90m [2mâ¯[22m Property.predicate ../../node_modules/fast-check/lib/esm/check/property/Property.js:[2m14:54[22m[39m
[90m [2mâ¯[22m Property.run ../../node_modules/fast-check/lib/esm/check/property/Property.generic.js:[2m46:33[22m[39m
[90m [2mâ¯[22m runIt ../../node_modules/fast-check/lib/esm/check/runner/Runner.js:[2m18:30[22m[39m
[90m [2mâ¯[22m check ../../node_modules/fast-check/lib/esm/check/runner/Runner.js:[2m62:11[22m[39m
[90m [2mâ¯[22m Module.assert ../../node_modules/fast-check/lib/esm/check/runner/Runner.js:[2m65:17[22m[39m
[90m [2mâ¯[22m src/tests/unit/tool-registry.test.ts:[2m44:22[22m[39m
[90m [2mâ¯[22m buildError ../../node_modules/fast-check/lib/esm/check/runner/utils/RunDetailsFormatter.js:[2m126:15[22m[39m
[90m [2mâ¯[22m throwIfFailed ../../node_modules/fast-check/lib/esm/check/runner/utils/RunDetailsFormatter.js:[2m138:11[22m[39m
[90m [2mâ¯[22m reportRunDetails ../../node_modules/fast-check/lib/esm/check/runner/utils/RunDetailsFormatter.js:[2m151:16[22m[39m
[90m [2mâ¯[22m Module.assert ../../node_modules/fast-check/lib/esm/check/runner/Runner.js:[2m69:9[22m[39m
[90m [2mâ¯[22m src/tests/unit/tool-registry.test.ts:[2m44:22[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯[22m[39m

[41m[1m FAIL [22m[49m src/tests/unit/tool-registry.test.ts[2m > [22mZena Tool System Invariants[2m > [22mAlias Coverage & Synonym Resolution[2m > [22mshould resolve Contact synonyms ("person", "client", "user")
[31m[1mError[22m: Property failed after 2 tests
{ seed: -1744320558, path: "1", endOnFailure: true }
Counterexample: ["add","person"]
Shrunk 0 time(s)
Got AssertionError: expected 'add_person' to be 'contact.create' // Object.is equality
    at /Users/hamishmcgee/Desktop/ZenaAntigravity/packages/backend/src/tests/unit/tool-registry.test.ts:72:42
    at Property.predicate (file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/fast-check/lib/esm/check/property/Property.js:14:54)
    at Property.run (file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/fast-check/lib/esm/check/property/Property.generic.js:46:33)
    at runIt (file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/fast-check/lib/esm/check/runner/Runner.js:18:30)
    at check (file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/fast-check/lib/esm/check/runner/Runner.js:62:11)
    at Module.assert (file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/fast-check/lib/esm/check/runner/Runner.js:65:17)
    at /Users/hamishmcgee/Desktop/ZenaAntigravity/packages/backend/src/tests/unit/tool-registry.test.ts:65:22
    at file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///Users/hamishmcgee/Desktop/ZenaAntigravity/node_modules/@vitest/runner/dist/index.js:1243:20

Hint: Enable verbose mode in order to have the list of all failing values encountered during the run[39m
[36m [2mâ¯[22m src/tests/unit/tool-registry.test.ts:[2m72:42[22m[39m
    [90m 70| [39m                        [35mconst[39m variation [33m=[39m [32m`[39m[36m${[39maction[36m}[39m[32m_[39m[36m${[39mentity[36m}[39m[32m`[39m[33m;[39m
    [90m 71| [39m                        const resolved = toolAliasGenerator.resolve(vaâ€¦
    [90m 72| [39m                        [34mexpect[39m(resolved)[33m.[39m[34mtoBe[39m([32m'contact.create'[39m)[33m;[39m
    [90m   | [39m                                         [31m^[39m
    [90m 73| [39m                    }
    [90m 74| [39m                )
[90m [2mâ¯[22m Property.predicate ../../node_modules/fast-check/lib/esm/check/property/Property.js:[2m14:54[22m[39m
[90m [2mâ¯[22m Property.run ../../node_modules/fast-check/lib/esm/check/property/Property.generic.js:[2m46:33[22m[39m
[90m [2mâ¯[22m runIt ../../node_modules/fast-check/lib/esm/check/runner/Runner.js:[2m18:30[22m[39m
[90m [2mâ¯[22m check ../../node_modules/fast-check/lib/esm/check/runner/Runner.js:[2m62:11[22m[39m
[90m [2mâ¯[22m Module.assert ../../node_modules/fast-check/lib/esm/check/runner/Runner.js:[2m65:17[22m[39m
[90m [2mâ¯[22m src/tests/unit/tool-registry.test.ts:[2m65:22[22m[39m
[90m [2mâ¯[22m buildError ../../node_modules/fast-check/lib/esm/check/runner/utils/RunDetailsFormatter.js:[2m126:15[22m[39m
[90m [2mâ¯[22m throwIfFailed ../../node_modules/fast-check/lib/esm/check/runner/utils/RunDetailsFormatter.js:[2m138:11[22m[39m
[90m [2mâ¯[22m reportRunDetails ../../node_modules/fast-check/lib/esm/check/runner/utils/RunDetailsFormatter.js:[2m151:16[22m[39m
[90m [2mâ¯[22m Module.assert ../../node_modules/fast-check/lib/esm/check/runner/Runner.js:[2m69:9[22m[39m
[90m [2mâ¯[22m src/tests/unit/tool-registry.test.ts:[2m65:22[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/2]â¯[22m[39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m5 passed[39m[22m[90m (7)[39m
[2m   Start at [22m 13:39:21
[2m   Duration [22m 1.02s[2m (transform 522ms, setup 39ms, import 838ms, tests 22ms, environment 0ms)[22m

