âœ… [database.ts] Prisma initialized: true
{"timestamp":"2026-01-13T08:28:30.281Z","level":"info","message":"[NavigationPlanner] Initialized with Gemini model: gemini-3-flash-preview"}
[ToolRegistry] âœ… Registered tool: inbox.list_threads
[ToolRegistry] âœ… Registered tool: inbox.get_thread
[ToolRegistry] âœ… Registered tool: inbox.get_messages
[ToolRegistry] âœ… Registered tool: inbox.archive_thread
[ToolRegistry] âœ… Registered tool: inbox.unarchive_thread
[ToolRegistry] âœ… Registered tool: inbox.snooze_thread
[AIProcessingService] Initialized with Gemini: gemini-3-flash-preview
[ToolRegistry] âœ… Registered tool: inbox.classify_thread
[ToolRegistry] âœ… Registered tool: inbox.move_to_awaiting
[ToolRegistry] âœ… Registered tool: inbox.link_to_property
[ToolRegistry] âœ… Registered tool: inbox.link_to_contact
[ToolRegistry] âœ… Registered tool: inbox.draft_reply
[ToolRegistry] âœ… Registered tool: inbox.send_reply
[ToolRegistry] âœ… Registered tool: inbox.regenerate_draft
[ToolRegistry] âœ… Registered tool: inbox.search
[ToolRegistry] âœ… Registered tool: deal.list
[ToolRegistry] âœ… Registered tool: deal.get
[ToolRegistry] âœ… Registered tool: deal.create
[ToolRegistry] âœ… Registered tool: deal.update
[ToolRegistry] âœ… Registered tool: deal.delete
[ToolRegistry] âœ… Registered tool: deal.update_stage
[ToolRegistry] âœ… Registered tool: deal.update_conditions
[ToolRegistry] âœ… Registered tool: deal.assign_contact
[ToolRegistry] âœ… Registered tool: deal.remove_contact
[ToolRegistry] âœ… Registered tool: deal.analyze
[ToolRegistry] âœ… Registered tool: deal.archive
[ToolRegistry] âœ… Registered tool: deal.unarchive
[ToolRegistry] âœ… Registered tool: deal.add_note
[ToolRegistry] âœ… Registered tool: deal.get_brief
[ToolRegistry] âœ… Registered tool: deal.bulk_archive
[ToolRegistry] âœ… Registered tool: deal.bulk_delete
[ToolRegistry] âœ… Registered tool: deal.search
[ToolRegistry] âœ… Registered tool: deal.generate_report
[ToolRegistry] âœ… Registered tool: deal.update_risk
[ToolRegistry] âœ… Registered tool: contact.list
[ToolRegistry] âœ… Registered tool: contact.get
[ToolRegistry] âœ… Registered tool: contact.create
[ToolRegistry] âœ… Registered tool: contact.update
[ToolRegistry] âœ… Registered tool: contact.delete
[ToolRegistry] âœ… Registered tool: contact.archive
[ToolRegistry] âœ… Registered tool: contact.add_relationship_note
[ToolRegistry] âœ… Registered tool: contact.get_brief
[ToolRegistry] âœ… Registered tool: contact.run_discovery
[ToolRegistry] âœ… Registered tool: contact.recategorize
[ToolRegistry] âœ… Registered tool: contact.bulk_delete
[ToolRegistry] âœ… Registered tool: contact.bulk_update
[ToolRegistry] âœ… Registered tool: contact.search
[ToolRegistry] âœ… Registered tool: contact.link_to_property
[ToolRegistry] âœ… Registered tool: task.list
[ToolRegistry] âœ… Registered tool: task.get
[ToolRegistry] âœ… Registered tool: task.create
[ToolRegistry] âœ… Registered tool: task.update
[ToolRegistry] âœ… Registered tool: task.delete
[ToolRegistry] âœ… Registered tool: task.complete
[ToolRegistry] âœ… Registered tool: task.reschedule
[ToolRegistry] âœ… Registered tool: task.get_overdue
[ToolRegistry] âœ… Registered tool: task.process_voice_note
[ToolRegistry] âœ… Registered tool: task.search
[ToolRegistry] âœ… Registered tool: property.list
[ToolRegistry] âœ… Registered tool: property.get
[ToolRegistry] âœ… Registered tool: property.create
[ToolRegistry] âœ… Registered tool: property.update
[ToolRegistry] âœ… Registered tool: property.delete
[ToolRegistry] âœ… Registered tool: property.add_milestone
[ToolRegistry] âœ… Registered tool: property.update_milestone
[ToolRegistry] âœ… Registered tool: property.delete_milestone
[ToolRegistry] âœ… Registered tool: property.refresh_intelligence
[ToolRegistry] âœ… Registered tool: property.generate_comparables
[ToolRegistry] âœ… Registered tool: property.link_vendor
[ToolRegistry] âœ… Registered tool: property.generate_report
[ToolRegistry] âœ… Registered tool: property.bulk_delete
[ToolRegistry] âœ… Registered tool: property.bulk_archive
[ToolRegistry] âœ… Registered tool: property.get_smart_matches
[ToolRegistry] âœ… Registered tool: property.search
[ToolRegistry] âœ… Registered tool: calendar.list
[ToolRegistry] âœ… Registered tool: calendar.get
[ToolRegistry] âœ… Registered tool: calendar.create
[ToolRegistry] âœ… Registered tool: calendar.update
[ToolRegistry] âœ… Registered tool: calendar.delete
[ToolRegistry] âœ… Registered tool: calendar.suggest_slots
[ToolRegistry] âœ… Registered tool: calendar.optimize_day
[ToolRegistry] âœ… Registered tool: calendar.search
[ToolRegistry] âœ… Registered tool: portfolio.get_brief
[ToolRegistry] âœ… Registered tool: portfolio.get_global_brief
[ToolRegistry] âœ… Registered tool: search_memory
[ToolRegistry] âœ… Registered tool: export.contacts
[ToolRegistry] âœ… Registered tool: export.properties
[ToolRegistry] âœ… Registered tool: export.deals
[ActionRegistry] Registered strategy for generate_weekly_report
[ActionRegistry] Registered strategy for buyer_match_intro
[ActionRegistry] Registered strategy for schedule_viewing
[ToolRegistry] âœ… Registered tool: godmode.get_pending
[ToolRegistry] âœ… Registered tool: godmode.approve
[ToolRegistry] âœ… Registered tool: godmode.dismiss
[ToolRegistry] âœ… Registered tool: voice_note.list
[ToolRegistry] âœ… Registered tool: voice_note.get
[ToolRegistry] âœ… Registered tool: voice_note.upload
[ToolRegistry] ðŸ“¦ Registered bundle: inbox (11 tools)
[ToolRegistry] ðŸ“¦ Registered bundle: deals (15 tools)
[ToolRegistry] ðŸ“¦ Registered bundle: contacts (13 tools)
[ToolRegistry] ðŸ“¦ Registered bundle: properties (13 tools)
[ToolRegistry] ðŸ“¦ Registered bundle: tasks (9 tools)
[ToolRegistry] ðŸ“¦ Registered bundle: calendar (7 tools)
[ToolRegistry] ðŸ“¦ Registered bundle: core (2 tools)
[ToolRegistry] ðŸ“¦ Registered bundle: export (3 tools)
[ToolRegistry] ðŸ“¦ Registered bundle: godmode (3 tools)
[ToolRegistry] ðŸ“¦ Registered bundle: voice_notes (3 tools)
[ToolBundles] Registered 10 tool bundles
[ToolRegistry] âœ… Registered tool: core.get_dashboard
[ToolRegistry] âœ… Registered tool: core.search
[ToolRegistry] Tool deal.generate_report already registered, overwriting
[ToolRegistry] âœ… Registered tool: deal.generate_report
[ToolRegistry] Tool deal.update_risk already registered, overwriting
[ToolRegistry] âœ… Registered tool: deal.update_risk
[ToolRegistry] âœ… Registered tool: calendar.list_events
[ToolRegistry] âœ… Registered tool: calendar.get_event
[ToolRegistry] âœ… Registered tool: calendar.create_event
[ToolRegistry] âœ… Registered tool: calendar.update_event
[ToolRegistry] âœ… Registered tool: calendar.delete_event
[ToolRegistry] âœ… Registered tool: calendar.reschedule
[ToolRegistry] âœ… Registered tool: task.list_tasks
[ToolRegistry] âœ… Registered tool: task.create_task
[ToolRegistry] âœ… Registered tool: task.update_task
[ToolRegistry] âœ… Registered tool: task.link_to_deal
[ToolRegistry] âœ… Registered tool: contact.list_contacts
[ToolRegistry] âœ… Registered tool: contact.create_contact
[ToolRegistry] âœ… Registered tool: contact.update_contact
[ToolRegistry] âœ… Registered tool: property.list_properties
[ToolRegistry] âœ… Registered tool: property.create_property
[ToolRegistry] âœ… Registered tool: property.update_property
[Tools] Agent tool system initialized: 111 tools across 13 domains
{"timestamp":"2026-01-13T08:28:30.666Z","level":"info","message":"[AskZenaService] Initializing Ask Zena..."}
{"timestamp":"2026-01-13T08:28:30.810Z","level":"info","message":"[AskZenaService] OPENAI_API_KEY set:"}
{"timestamp":"2026-01-13T08:28:30.811Z","level":"info","message":"[AskZenaService] GEMINI_API_KEY set:","context":true}
{"timestamp":"2026-01-13T08:28:30.811Z","level":"info","message":"[AskZenaService] GEMINI_MODEL:","context":"gemini-3-flash-preview"}
Finding a suitable event...
Testing suggestions for event: 963a0368-59bd-4837-97c1-b0b78937d4bc (Meeting at Wed Jan 14 2026 08:30:00 GMT+1300 (New Zealand Daylight Time))
[CalendarActions] Getting reschedule suggestions for timeline_event 963a0368-59bd-4837-97c1-b0b78937d4bc
[AskBrain] Prompt: You are a real estate scheduling assistant. Assist in rescheduling the following event:
Event: "Meet...

========================================
[Gemini] ðŸš€ CALL GEMINI INITIATED
========================================
[Gemini] API Key Present: true
[Gemini] API Key Length: 39
[Gemini] Model: gemini-3-flash-preview
[Gemini] Source: unknown
[Gemini] Prompt Length: 1139
[Gemini] Prompt Preview: You are a real estate scheduling assistant. Assist in rescheduling the following event:
Event: "Meeting"
Current Time of Event: 1/14/2026, 8:30:00 AM
Location: TBD

CURRENT LOCAL TIME (New Zealand): 1...
[Gemini] Conversation History Count: 0
[Gemini] Attachments: 0
========================================

[Gemini] âœ… API Response OK, status: 200
[Gemini] Response Time: 13475 ms
[Gemini] Grounding Debug: { hasMetadata: false, chunks: 0, mode: 'json' }
[AskBrain] Response: [{"date":"2026-01-14","time":"10:00","reasoning":"I suggest moving this to Wednesday, 14th Jan at 10...
--- SUGGESTIONS RESULT ---
[
  {
    "date": "2026-01-14",
    "time": "10:00",
    "reasoning": "I suggest moving this to Wednesday, 14th Jan at 10:00 AM because this is the golden hour for real estate brilliance, allowing you to dominate the morning market while your competitors are still on their first coffee."
  },
  {
    "date": "2026-01-14",
    "time": "11:30",
    "reasoning": "I suggest moving this to Wednesday, 14th Jan at 11:30 AM because it provides a perfect buffer to crush your morning admin, ensuring you walk into this meeting with the focus of a top-tier closer."
  },
  {
    "date": "2026-01-15",
    "time": "09:00",
    "reasoning": "I suggest moving this to Thursday, 15th Jan at 09:00 AM because a fresh start on a new day is a power move that keeps your momentum high and your schedule impeccably organised."
  }
]
--------------------------
[TokenTracker] ask-zena: ~285 input / ~186 output tokens (gemini-3-flash-preview) [13482ms]
